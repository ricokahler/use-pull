{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { useRef, useCallback, useEffect, useLayoutEffect } from 'react';\n\n// https://github.com/reduxjs/react-redux/blob/0f1ab0960c38ac61b4fe69285a5b401f9f6e6177/src/utils/useIsomorphicLayoutEffect.js\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\nconst useUniversalLayoutEffect =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined'\n    ? useLayoutEffect\n    : useEffect;\n\nfunction usePull<T>(value: T): () => T {\n  const ref = useRef(value);\n\n  useUniversalLayoutEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  const pull = useCallback(() => {\n    return ref.current;\n  }, []);\n\n  return pull;\n}\n\nexport default usePull;\n"],"names":["useUniversalLayoutEffect","window","document","createElement","useLayoutEffect","useEffect","usePull","value","ref","useRef","current","pull","useCallback"],"mappings":";;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMA,wBAAwB,GAC5B,OAAOC,MAAP,KAAkB,WAAlB,IACA,OAAOA,MAAM,CAACC,QAAd,KAA2B,WAD3B,IAEA,OAAOD,MAAM,CAACC,QAAP,CAAgBC,aAAvB,KAAyC,WAFzC,GAGIC,eAHJ,GAIIC,SALN;;AAOA,SAASC,OAAT,CAAoBC,KAApB,EAAuC;AACrC,QAAMC,GAAG,GAAGC,MAAM,CAACF,KAAD,CAAlB;AAEAP,EAAAA,wBAAwB,CAAC,MAAM;AAC7BQ,IAAAA,GAAG,CAACE,OAAJ,GAAcH,KAAd;AACD,GAFuB,EAErB,CAACA,KAAD,CAFqB,CAAxB;AAIA,QAAMI,IAAI,GAAGC,WAAW,CAAC,MAAM;AAC7B,WAAOJ,GAAG,CAACE,OAAX;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAIA,SAAOC,IAAP;AACD;;;;"}